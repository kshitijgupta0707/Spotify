<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <style>
      * {
        padding: 0;
        margin: 0;
        box-sizing: content-box;
      }
      .hero {
        width: 100%;
        height: 100vh;
        background-image: linear-gradient(rgba(0, 0, 0, 0.5), #480000),
          url(media/background.jpg);
        background-position: center;
        background-size: cover;
        display: flex;
        align-items: center;
        justify-content: center;
      }
      .music img {
        width: 300px;
      }
      .music {
        width: 85%;
        padding: 30px;
        background-color: black;
        display: flex;
      }
      .info {
        color: white;
        margin-left: 30px;
        flex: 1;
      }
      .info p {
        font-size: 20px;
        margin: 10px 0 60px;
      }
      .controls {
        margin-top: 40px;
        display: flex;
        align-items: center;
      }
      .controls img {
        width: 20px;
        margin-right: 20px;
        cursor: pointer;
      }
      #waveform {
        width: 100%;
        height: 100px;
        margin-top: 10px;
        /* transform-origin: center; */
        /* animation: waveMotion 0.4s infinite ease-in-out; */
      }
      /* @keyframes waveMotion {
            0%, 100% {
                transform: translateY(0);
            }
            25% {
                transform: translateY(-2px);
            }
            50% {
                transform: translateY(0);
            }
            75% {
                transform: translateY(2px);
            } */
      /* } */
    </style>
    <script src="https://unpkg.com/wavesurfer.js@7"></script>
  </head>
  <body>
    <div class="hero">
      <div class="music">
        <img src="media/mercy.jpg" alt="" />
        <div class="info">
          <h1>Mercy - Badshah , feat. kshitij gupta</h1>
          <p>Album - ONE (original never ends)</p>
          <!-- <audio controls >
                        <source src="media/mercy-badshah.mp3" type="audio/mp3">
                        </audio> -->
          <div id="waveform"></div>
          <div class="controls">
            <img id="play" src="media/play.png" alt="" />
            <img id="stop" src="media/stop.png" alt="" />
            <img id="volume" src="media/volume.png" alt="" />
          </div>
        </div>
      </div>
    </div>
    <script>
      const playbtn = document.getElementById("play");
      const stopbtn = document.getElementById("stop");
      const volumebtn = document.getElementById("volume");
      const wavesurfer = WaveSurfer.create({
        container: "#waveform",
        waveColor: "#dde5ec",
        progressColor: "#03cebf",
        barWidth: 3,
        height: 90,
        //   barHeight: 0,
        responsive: true,
        hideScrollBar: true,
        barRadious: 4,
        //   barAlign: "bottom",
        barGap: 2,
        url: "/audio.mp3",
      });
      wavesurfer.load("media/mercy-badshah.mp3");

    
        // Play/Pause functionality
        const playButton = document.getElementById('play');
        playButton.addEventListener('click', () => {
            wavesurfer.playPause();
            playButton.src = wavesurfer.isPlaying() ? 'media/pause.png' : 'media/play.png';
        });

        // Stop functionality
        const stopButton = document.getElementById('stop');
        stopButton.addEventListener('click', () => {
            wavesurfer.stop();
            playButton.src = 'media/play.png';
        });

        // Volume control functionality
        const volumeButton = document.getElementById('volume');
        volumeButton.addEventListener('click', () => {
            let currentVolume = wavesurfer.getVolume();
            wavesurfer.setVolume(currentVolume > 0 ? 0 : 1);
            volumeButton.src = currentVolume > 0 ? 'media/mute.png' : 'media/volume.png';
        });

      //   const musicPlayer = document.querySelector('.music');
      //   let isDragging = false;
      //   let offsetX, offsetY;

      //   musicPlayer.addEventListener('mousedown', (e) => {
      //       isDragging = true;
      //       offsetX = e.clientX - musicPlayer.offsetLeft;
      //       offsetY = e.clientY - musicPlayer.offsetTop;
      //   });

      //   document.addEventListener('mousemove', (e) => {
      //       if (isDragging) {
      //           musicPlayer.style.left = `${e.clientX - offsetX}px`;
      //           musicPlayer.style.top = `${e.clientY - offsetY}px`;
      //       }
      //   });

      //   document.addEventListener('mouseup', () => {
      //       isDragging = false;
      //   });

   
       
    </script>
  </body>
</html>
